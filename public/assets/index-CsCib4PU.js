import{r as l,a as O}from"./vendor-YsBxPMQB.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function d(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(o){if(o.ep)return;o.ep=!0;const a=d(o);fetch(o.href,a)}})();var E={exports:{}},y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P=l,F=Symbol.for("react.element"),D=Symbol.for("react.fragment"),M=Object.prototype.hasOwnProperty,$=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I={key:!0,ref:!0,__self:!0,__source:!0};function S(n,s,d){var c,o={},a=null,i=null;d!==void 0&&(a=""+d),s.key!==void 0&&(a=""+s.key),s.ref!==void 0&&(i=s.ref);for(c in s)M.call(s,c)&&!I.hasOwnProperty(c)&&(o[c]=s[c]);if(n&&n.defaultProps)for(c in s=n.defaultProps,s)o[c]===void 0&&(o[c]=s[c]);return{$$typeof:F,type:n,key:a,ref:i,props:o,_owner:$.current}}y.Fragment=D;y.jsx=S;y.jsxs=S;E.exports=y;var t=E.exports,C,R=O;C=R.createRoot,R.hydrateRoot;const U=({position:n})=>t.jsx("div",{className:"player-car absolute w-[50px] h-[120px] rounded-lg",style:{left:`${n.x}px`,top:`${n.y}px`},children:t.jsx("img",{src:"/assets/car2.jpg",alt:"Enemy Car",className:"w-full h-full object-cover rounded-lg"})}),q=({position:n})=>t.jsx("div",{className:"enemy-car absolute w-[50px] h-[100px] rounded-lg",style:{left:`${n.x}px`,top:`${n.y}px`},children:t.jsx("img",{src:"/assets/car.png",alt:"Enemy Car",className:"w-full h-full object-cover rounded-lg"})}),G=({position:n})=>t.jsx("div",{className:"absolute w-[10px] h-[100px] bg-white",style:{left:"190px",top:`${n}px`}}),T=({score:n})=>t.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 md:left-10 md:translate-x-0 bg-[#10ac84] w-[120px] h-[50px] text-center text-2xl text-white font-bold shadow-md rounded z-10",children:["Score: ",n]}),B=({onStart:n,finalScore:s})=>t.jsxs("div",{onClick:n,className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
                 bg-[#00CED1] text-white z-10 text-center border border-[#ff6b6b] 
                 p-4 w-[90%] md:w-1/2 cursor-pointer shadow-md rounded-lg`,children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4",children:"CAR RACING GAME"}),t.jsx("p",{className:"text-lg md:text-xl",children:s>0?t.jsxs(t.Fragment,{children:["Game Over",t.jsx("br",{}),"Final Score: ",s,t.jsx("br",{}),"Tap to restart"]}):t.jsxs(t.Fragment,{children:["Tap here to start",t.jsx("br",{}),"If you hit another car, you lose...",t.jsx("br",{}),window.innerWidth<=768?"Use on-screen controls to play":"Use arrow keys to play"]})})]});function K(){const[n,s]=l.useState(!1),[d,c]=l.useState(0),[o,a]=l.useState({x:175,y:500}),[i,b]=l.useState([]),[A,g]=l.useState([]),m=l.useRef(null),f=5,p=l.useRef(),u=l.useRef({ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1}),x=l.useCallback(e=>{Object.keys(u.current).includes(e.key)&&(e.preventDefault(),u.current[e.key]=!0)},[]),h=l.useCallback(e=>{Object.keys(u.current).includes(e.key)&&(e.preventDefault(),u.current[e.key]=!1)},[]),j=l.useCallback((e,r)=>!(e.bottom<r.top||e.top>r.bottom||e.right<r.left||e.left>r.right),[]),v=l.useCallback(()=>{if(!m.current)return!1;const e=m.current.querySelector(".player-car"),r=m.current.querySelectorAll(".enemy-car");if(!e)return!1;const _=e.getBoundingClientRect();for(const L of r){const N=L.getBoundingClientRect();if(j(_,N))return!0}return!1},[j]),w=l.useCallback(()=>{if(n){if(a(e=>{const r={...e};return u.current.ArrowUp&&(r.y-=f),u.current.ArrowDown&&(r.y+=f),u.current.ArrowLeft&&(r.x-=f),u.current.ArrowRight&&(r.x+=f),r.x=Math.max(0,Math.min(r.x,350)),r.y=Math.max(100,Math.min(r.y,550)),r}),b(e=>e.map(r=>({...r,y:r.y>=750?-300:r.y+f}))),g(e=>e.map(r=>({...r,y:r.y>=650?-90:r.y+f}))),c(e=>e+1),v()){s(!1);return}p.current=requestAnimationFrame(w)}},[n,f,v]),k=l.useCallback(()=>{s(!0),c(0),a({x:175,y:500}),b(Array.from({length:3},(e,r)=>({id:r,x:Math.floor(Math.random()*350),y:(r+1)*350*-1}))),g(Array.from({length:5},(e,r)=>({id:r,y:r*150})))},[]);return l.useEffect(()=>(n&&(p.current=requestAnimationFrame(w)),()=>{p.current&&cancelAnimationFrame(p.current)}),[n,w]),l.useEffect(()=>(window.addEventListener("keydown",x),window.addEventListener("keyup",h),()=>{window.removeEventListener("keydown",x),window.removeEventListener("keyup",h)}),[x,h]),t.jsxs("div",{className:"w-full h-screen bg-green-800 relative overflow-hidden",children:[t.jsx(T,{score:d}),!n&&t.jsx(B,{onStart:k,finalScore:d}),t.jsx("div",{ref:m,className:"h-screen w-[400px] bg-[#2c3456] mx-auto relative overflow-hidden border-r-[7px] border-l-[7px] border-dashed border-[#c8d6e5]",children:n&&t.jsxs(t.Fragment,{children:[A.map(e=>t.jsx(G,{position:e.y},e.id)),t.jsx(U,{position:o}),i.map(e=>t.jsx(q,{position:{x:e.x,y:e.y}},e.id))]})})]})}C(document.getElementById("root")).render(t.jsx(l.StrictMode,{children:t.jsx(K,{})}));
